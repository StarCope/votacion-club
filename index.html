<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Votación Club Patinaje</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .cargo { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Votación Directiva - Club Patinaje Artístico</h1>

  <form id="votacionForm">
    <div class="cargo">
      <h3>Presidente/a</h3>
      <label><input type="radio" name="presidente" value="Postulante 1"> Mauricio Hernández</label><br>
      <label><input type="radio" name="presidente" value="Nulo"> Voto Nulo</label>
    </div>

    <div class="cargo">
      <h3>Tesorero/a</h3>
      <label><input type="radio" name="tesorero" value="Postulante A"> Melisa Lucero</label><br>
      <label><input type="radio" name="tesorero" value="Nulo"> Voto Nulo</label>
    </div>

    <div class="cargo">
      <h3>Secretario/a</h3>
      <label><input type="radio" name="secretario" value="Postulante X"> Deisy Torres</label><br>
      <label><input type="radio" name="secretario" value="Postulante Y"> Irma Llanos</label><br>
      <label><input type="radio" name="secretario" value="Postulante Z"> Juan Carlos Cuevas</label><br>
      <label><input type="radio" name="secretario" value="Nulo"> Voto Nulo</label>
    </div>

    <button type="submit">Enviar Voto</button>
  </form>

  <div id="mensaje"></div>

  <script>
    const form = document.getElementById("votacionForm");
    const mensaje = document.getElementById("mensaje");

    form.addEventListener("submit", async function(e) {
      e.preventDefault();

      const presidente = document.querySelector('input[name="presidente"]:checked');
      const tesorero = document.querySelector('input[name="tesorero"]:checked');
      const secretario = document.querySelector('input[name="secretario"]:checked');

      if (!presidente || !tesorero || !secretario) {
        alert("Debes votar en cada uno de los cargos.");
        return;
      }

      const data = {
        presidente: presidente.value,
        tesorero: tesorero.value,
        secretario: secretario.value
      };

      try {
        const response = await fetch("https://docs.google.com/spreadsheets/d/1yJxUJxNlV-f6ycj_tovlo4UnUxdaqLE6x-2WOgRR4lc/edit?usp=sharing"), {
          method: "POST",
          body: JSON.stringify(data),
          headers: {
            "Content-Type": "application/json"
          }
        });

        if (response.ok) {
          mensaje.innerText = "✅ ¡Gracias por tu voto!";
          form.reset();
        } else {
          mensaje.innerText = "❌ Error al enviar el voto.";
        }
      } catch (error) {
        mensaje.innerText = "❌ No se pudo conectar con el servidor.";
        console.error(error);
      }
    });
  </script>
</body>
</html>
